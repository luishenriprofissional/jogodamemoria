<!DOCTYPE html>
<html lang="pt-BR">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <title>Jogo da MemÃ³ria</title>
Â  Â  <style>
Â  Â  Â  Â  body {
Â  Â  Â  Â  Â  Â  font-family: Arial, sans-serif;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  background-color: #f0f0f0;
Â  Â  Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  Â  Â  padding: 20px;
Â  Â  Â  Â  }

Â  Â  Â  Â  h1 {
Â  Â  Â  Â  Â  Â  color: #333;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  }

Â  Â  Â  Â  .container {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  max-width: 800px;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* PÃ¡gina inicial */
Â  Â  Â  Â  #start-page {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  padding: 40px 20px;
Â  Â  Â  Â  Â  Â  background-color: #fff;
Â  Â  Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
Â  Â  Â  Â  }

Â  Â  Â  Â  #start-page h2 {
Â  Â  Â  Â  Â  Â  font-size: 1.5em;
Â  Â  Â  Â  Â  Â  margin-bottom: 20px;
Â  Â  Â  Â  Â  Â  color: #555;
Â  Â  Â  Â  }

Â  Â  Â  Â  #start-page input {
Â  Â  Â  Â  Â  Â  padding: 10px;
Â  Â  Â  Â  Â  Â  border: 1px solid #ccc;
Â  Â  Â  Â  Â  Â  border-radius: 5px;
Â  Â  Â  Â  Â  Â  margin-right: 10px;
Â  Â  Â  Â  Â  Â  font-size: 1em;
Â  Â  Â  Â  }

Â  Â  Â  Â  #start-page button {
Â  Â  Â  Â  Â  Â  padding: 10px 20px;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  border-radius: 5px;
Â  Â  Â  Â  Â  Â  font-size: 1em;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  color: #fff;
Â  Â  Â  Â  Â  Â  background-color: #aaa; /* Cor padrÃ£o */
Â  Â  Â  Â  }

Â  Â  Â  Â  #start-page button:enabled {
Â  Â  Â  Â  Â  Â  background-color: #28a745; /* Verde quando ativado */
Â  Â  Â  Â  }

Â  Â  Â  Â  /* RodapÃ© */
Â  Â  Â  Â  .footer {
Â  Â  Â  Â  Â  Â  position: fixed;
Â  Â  Â  Â  Â  Â  bottom: 20px;
Â  Â  Â  Â  Â  Â  right: 20px;
Â  Â  Â  Â  Â  Â  font-size: 0.8em;
Â  Â  Â  Â  Â  Â  color: #888;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* ConteÃºdo do Jogo */
Â  Â  Â  Â  #game-content {
Â  Â  Â  Â  Â  Â  display: none; /* Inicia oculto */
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  }

Â  Â  Â  Â  .game-info {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: space-between;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  max-width: 600px;
Â  Â  Â  Â  Â  Â  margin-bottom: 20px;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Ajustes no tabuleiro e cartas */
Â  Â  Â  Â  .board {
Â  Â  Â  Â  Â  Â  display: grid;
Â  Â  Â  Â  Â  Â  grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
Â  Â  Â  Â  Â  Â  gap: 10px;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  max-width: 70%;
Â  Â  Â  Â  Â  Â  padding: 10px;
Â  Â  Â  Â  Â  Â  background-color: #fff;
Â  Â  Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
Â  Â  Â  Â  }

Â  Â  Â  Â  .card {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  aspect-ratio: 1 / 1;
Â  Â  Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  Â  Â  transform-style: preserve-3d;
Â  Â  Â  Â  Â  Â  transition: transform 0.6s;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  }

Â  Â  Â  Â  .card.is-flipped {
Â  Â  Â  Â  Â  Â  transform: rotateY(180deg);
Â  Â  Â  Â  }

Â  Â  Â  Â  .card .card-face {
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: 100%;
Â  Â  Â  Â  Â  Â  backface-visibility: hidden;
Â  Â  Â  Â  Â  Â  border-radius: 6px;
Â  Â  Â  Â  Â  Â  border: 2px solid #333;
Â  Â  Â  Â  Â  Â  box-sizing: border-box;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  font-size: 0.9em;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  padding: 5px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .card .card-back {
Â  Â  Â  Â  Â  Â  background-color: #6a0dad;
Â  Â  Â  Â  Â  Â  color: #fff;
Â  Â  Â  Â  }

Â  Â  Â  Â  .card .card-front {
Â  Â  Â  Â  Â  Â  background-color: #e6e6fa;
Â  Â  Â  Â  Â  Â  transform: rotateY(180deg);
Â  Â  Â  Â  Â  Â  color: #333;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .modal {
Â  Â  Â  Â  Â  Â  display: none;
Â  Â  Â  Â  Â  Â  position: fixed;
Â  Â  Â  Â  Â  Â  top: 0;
Â  Â  Â  Â  Â  Â  left: 0;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: 100%;
Â  Â  Â  Â  Â  Â  background-color: rgba(0, 0, 0, 0.5);
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  z-index: 10;
Â  Â  Â  Â  }

Â  Â  Â  Â  .modal-content {
Â  Â  Â  Â  Â  Â  background-color: #fff;
Â  Â  Â  Â  Â  Â  padding: 30px;
Â  Â  Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
Â  Â  Â  Â  Â  Â  width: 90%;
Â  Â  Â  Â  Â  Â  max-width: 600px;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .restart-button {
Â  Â  Â  Â  Â  Â  background-color: #fff;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  font-size: 2em;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  position: fixed;
Â  Â  Â  Â  Â  Â  top: 10px;
Â  Â  Â  Â  Â  Â  right: 10px;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* PÃ¡gina de Ranking */
Â  Â  Â  Â  #ranking-page {
Â  Â  Â  Â  Â  Â  display: none;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  max-width: 800px;
Â  Â  Â  Â  Â  Â  margin-top: 20px;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* PÃ³dio */
Â  Â  Â  Â  .podium-container {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  margin-top: 20px;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  }

Â  Â  Â  Â  .podium {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: space-around;
Â  Â  Â  Â  Â  Â  align-items: flex-end;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  max-width: 600px;
Â  Â  Â  Â  Â  Â  height: 200px;
Â  Â  Â  Â  Â  Â  background-color: #f9f9f9;
Â  Â  Â  Â  Â  Â  padding: 10px;
Â  Â  Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .rank {
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  }

Â  Â  Â  Â  .rank-bar {
Â  Â  Â  Â  Â  Â  background-color: gold;
Â  Â  Â  Â  Â  Â  width: 60px;
Â  Â  Â  Â  Â  Â  transition: height 0.5s ease-in-out;
Â  Â  Â  Â  }

Â  Â  Â  Â  .rank-bar.second {
Â  Â  Â  Â  Â  Â  background-color: silver;
Â  Â  Â  Â  Â  Â  height: 120px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .rank-bar.first {
Â  Â  Â  Â  Â  Â  background-color: #c9b037;
Â  Â  Â  Â  Â  Â  height: 150px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .rank-bar.third {
Â  Â  Â  Â  Â  Â  background-color: #cd7f32;
Â  Â  Â  Â  Â  Â  height: 90px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .rank-info {
Â  Â  Â  Â  Â  Â  margin-top: 5px;
Â  Â  Â  Â  Â  Â  font-size: 0.9em;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* Ranking Completo */
Â  Â  Â  Â  #scoreboard {
Â  Â  Â  Â  Â  Â  margin-top: 20px;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  max-width: 800px;
Â  Â  Â  Â  Â  Â  background-color: #fff;
Â  Â  Â  Â  Â  Â  padding: 20px;
Â  Â  Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  }

Â  Â  Â  Â  #scoreboard ol {
Â  Â  Â  Â  Â  Â  padding-left: 20px;
Â  Â  Â  Â  Â  Â  list-style-position: inside;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Painel Admin */
Â  Â  Â  Â  #admin-page {
Â  Â  Â  Â  Â  Â  display: none;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  max-width: 800px;
Â  Â  Â  Â  Â  Â  margin-top: 20px;
Â  Â  Â  Â  Â  Â  background-color: #fff;
Â  Â  Â  Â  Â  Â  padding: 20px;
Â  Â  Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
Â  Â  Â  Â  }

Â  Â  Â  Â  #admin-page h2 {
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .admin-buttons {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  gap: 10px;
Â  Â  Â  Â  Â  Â  margin-top: 20px;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .admin-buttons button {
Â  Â  Â  Â  Â  Â  padding: 10px 20px;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  border-radius: 5px;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  }

Â  Â  Â  Â  #rebootButton {
Â  Â  Â  Â  Â  Â  background-color: #dc3545;
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  }
        .remove-button {
            background-color: #ffc107;
            color: black;
            padding: 5px 10px;
            border-radius: 3px;
            cursor: pointer;
            margin-left: 10px;
        }
        #players-list li {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            padding: 5px;
            border-bottom: 1px solid #eee;
        }
Â  Â  </style>
</head>
<body>

Â  Â  <div class="container">
Â  Â  Â  Â  <h1>ATIVIDADE SEMANAL DO RESTAURANTE: JOGO DA MEMÃ“RIA</h1>

Â  Â  Â  Â  <div id="start-page">
Â  Â  Â  Â  Â  Â  <h2>Bem-vindo(a)!</h2>
Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="nicknameInput" placeholder="Digite seu Nickname">
Â  Â  Â  Â  Â  Â  Â  Â  <button id="startButton" disabled>ComeÃ§ar</button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div id="game-content">
Â  Â  Â  Â  Â  Â  <div class="game-info">
Â  Â  Â  Â  Â  Â  Â  Â  <div>Movimentos: <span id="moves">0</span></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div>Pares Encontrados: <span id="matched-pairs">0</span>/12</div>
Â  Â  Â  Â  Â  Â  Â  Â  <div>Tempo: <span id="timer">00:00</span></div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="board"></div>
Â  Â  Â  Â  Â  Â  <button class="restart-button" id="restartButton">ðŸ”„</button>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div id="admin-page">
Â  Â  Â  Â  Â  Â  <h2>Painel de AdministraÃ§Ã£o</h2>
Â  Â  Â  Â  Â  Â  <div class="admin-buttons">
Â  Â  Â  Â  Â  Â  Â  Â  <button id="showAllPlayers">Ver Jogadores</button>
Â  Â  Â  Â  Â  Â  Â  Â  <button id="rebootButton">Reboot (Apagar Tudo)</button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div id="admin-data-display" style="margin-top: 20px; max-height: 400px; overflow-y: auto;"></div>
Â  Â  Â  Â  </div>
Â  Â  Â  Â Â 
Â  Â  Â  Â  <div id="winnerModal" class="modal">
Â  Â  Â  Â  Â  Â  <div class="modal-content">
Â  Â  Â  Â  Â  Â  Â  Â  <h2>ParabÃ©ns! VocÃª venceu!</h2>
Â  Â  Â  Â  Â  Â  Â  Â  <p>Nick: <span id="playerNickname"></span></p>
Â  Â  Â  Â  Â  Â  Â  Â  <p>Tempo: <span id="finalTime"></span></p>
Â  Â  Â  Â  Â  Â  Â  Â  <p>Movimentos: <span id="finalMoves"></span></p>
Â  Â  Â  Â  Â  Â  Â  Â  <p>Data: <span id="finalDate"></span></p>
Â  Â  Â  Â  Â  Â  Â  Â  <button id="saveScoreButton">Salvar Resultado</button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div id="ranking-page">
Â  Â  Â  Â  Â  Â  <h2>Ranking dos Melhores Tempos</h2>
Â  Â  Â  Â  Â  Â  <div id="podium-container" class="podium-container">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="podium">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="rank">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="rank-bar second" id="second-place"></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="rank-info" id="second-info">ðŸ¥ˆ</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="rank">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="rank-bar first" id="first-place"></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="rank-info" id="first-info">ðŸ¥‡</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="rank">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="rank-bar third" id="third-place"></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="rank-info" id="third-info">ðŸ¥‰</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div id="scoreboard">
Â  Â  Â  Â  Â  Â  Â  Â  <h3>Todos os Tempos</h3>
Â  Â  Â  Â  Â  Â  Â  Â  <ol id="rank-list"></ol>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>

Â  Â  </div>
Â  Â Â 
Â  Â  <div class="footer">Feito por: luix.</div>

Â  Â  <script type="module">
Â  Â  Â  Â  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
Â  Â  Â  Â  import { getFirestore, collection, addDoc, query, orderBy, getDocs, deleteDoc, doc, runTransaction } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

Â  Â  Â  Â  // Cole a configuraÃ§Ã£o do seu Firebase AQUI
Â  Â  Â  Â  const firebaseConfig = {
Â  Â  Â  Â  Â  Â  apiKey: "AIzaSyCR9mVu8ifdJdSV5psQxgKv-tjERM7WJ2A",
Â  Â  Â  Â  Â  Â  authDomain: "jododamemoria.firebaseapp.com",
Â  Â  Â  Â  Â  Â  projectId: "jododamemoria",
Â  Â  Â  Â  Â  Â  storageBucket: "jododamemoria.firebasestorage.app",
Â  Â  Â  Â  Â  Â  messagingSenderId: "628882650020",
Â  Â  Â  Â  Â  Â  appId: "1:628882650020:web:d38af5fcf33a8894974731",
Â  Â  Â  Â  Â  Â  measurementId: "G-0M0351L542"
Â  Â  Â  Â  };
Â  Â  Â  Â Â 
Â  Â  Â  Â  // Inicializa o Firebase
Â  Â  Â  Â  const app = initializeApp(firebaseConfig);
Â  Â  Â  Â  const db = getFirestore(app);

Â  Â  Â  Â  // --- VariÃ¡veis Globais ---
Â  Â  Â  Â  let playerName = '';
Â  Â  Â  Â  let timerInterval;
Â  Â  Â  Â  let startTime;
Â  Â  Â  Â  let seconds = 0;
Â  Â  Â  Â  let isTimerRunning = false;
Â  Â  Â  Â Â 
Â  Â  Â  Â  const startPage = document.getElementById('start-page');
Â  Â  Â  Â  const gameContent = document.getElementById('game-content');
Â  Â  Â  Â  const rankingPage = document.getElementById('ranking-page');
Â  Â  Â  Â  const nicknameInput = document.getElementById('nicknameInput');
Â  Â  Â  Â  const startButton = document.getElementById('startButton');
Â  Â  Â  Â  const playerNicknameSpan = document.getElementById('playerNickname');
Â  Â  Â  Â  const board = document.querySelector('.board');
Â  Â  Â  Â  const movesSpan = document.getElementById('moves');
Â  Â  Â  Â  const matchedPairsSpan = document.getElementById('matched-pairs');
Â  Â  Â  Â  const timerSpan = document.getElementById('timer');
Â  Â  Â  Â  const winnerModal = document.getElementById('winnerModal');
Â  Â  Â  Â  const finalMovesSpan = document.getElementById('finalMoves');
Â  Â  Â  Â  const finalTimeSpan = document.getElementById('finalTime');
Â  Â  Â  Â  const finalDateSpan = document.getElementById('finalDate');
Â  Â  Â  Â  const saveScoreButton = document.getElementById('saveScoreButton');
Â  Â  Â  Â  const restartButton = document.getElementById('restartButton');
Â  Â  Â  Â  const adminPage = document.getElementById('admin-page');
Â  Â  Â  Â  const showAllPlayersButton = document.getElementById('showAllPlayers');
Â  Â  Â  Â  const rebootButton = document.getElementById('rebootButton');
Â  Â  Â  Â  const adminDataDisplay = document.getElementById('admin-data-display');
Â  Â  Â  Â  const rankList = document.getElementById('rank-list');
Â  Â  Â  Â Â 
Â  Â  Â  Â  // A SENHA DO ADMIN AQUI. TROQUE POR UMA MAIS SEGURA!
Â  Â  Â  Â  const ADMIN_NICKNAME = "admin123";

Â  Â  Â  Â  // AQUI ESTÃ A MUDANÃ‡A: as cartas terÃ£o um ID Ãºnico
Â  Â  Â  Â  const cardValues = [
Â  Â  Â  Â  Â  Â  'Cuscuz', 'Bolo de Rolo', 'Canja', 'Pizza', 'Pamonha', 'Canjica',Â 
Â  Â  Â  Â  Â  Â  'Salada', 'Pastel', 'Cerveja', 'Vinho', 'Chocolate-Quente', 'Frango Assado'
Â  Â  Â  Â  ];
Â  Â  Â  Â Â 
Â  Â  Â  Â  let gameCards = [];
Â  Â  Â  Â  let hasFlippedCard = false;
Â  Â  Â  Â  let lockBoard = false;
Â  Â  Â  Â  let firstCard, secondCard;
Â  Â  Â  Â  let moves = 0;
Â  Â  Â  Â  let matchedPairs = 0;
Â  Â  Â  Â  let restartCount = 0;

Â  Â  Â  Â  // --- FunÃ§Ãµes de LÃ³gica do Jogo ---
Â  Â  Â  Â  function shuffle(array) {
Â  Â  Â  Â  Â  Â  for (let i = array.length - 1; i > 0; i--) {
Â  Â  Â  Â  Â  Â  Â  Â  const j = Math.floor(Math.random() * (i + 1));
Â  Â  Â  Â  Â  Â  Â  Â  [array[i], array[j]] = [array[j], array[i]];
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  function createBoard() {
Â  Â  Â  Â  Â  Â  // Cria um array de objetos para gerenciar as cartas, cada um com um ID e um valor
Â  Â  Â  Â  Â  Â  gameCards = [...cardValues, ...cardValues].map((value, index) => ({ id: index, value }));
Â  Â  Â  Â  Â  Â  shuffle(gameCards);

Â  Â  Â  Â  Â  Â  board.innerHTML = '';
Â  Â  Â  Â  Â  Â  gameCards.forEach((card, index) => {
Â  Â  Â  Â  Â  Â  Â  Â  const cardElement = document.createElement('div');
Â  Â  Â  Â  Â  Â  Â  Â  cardElement.classList.add('card');
Â  Â  Â  Â  Â  Â  Â  Â  // A Ãºnica informaÃ§Ã£o no DOM Ã© o ID, que nÃ£o tem significado para o jogador
Â  Â  Â  Â  Â  Â  Â  Â  cardElement.dataset.id = index;
Â  Â  Â  Â  Â  Â  Â  Â  cardElement.innerHTML = `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="card-face card-back">?</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="card-face card-front"></div>
Â  Â  Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  Â  Â  Â  Â  cardElement.addEventListener('click', flipCard);
Â  Â  Â  Â  Â  Â  Â  Â  board.appendChild(cardElement);
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }

Â  Â  Â  Â  function startTimer() {
Â  Â  Â  Â  Â  Â  if (isTimerRunning) return;
Â  Â  Â  Â  Â  Â  isTimerRunning = true;
Â  Â  Â  Â  Â  Â  startTime = new Date().getTime();
Â  Â  Â  Â  Â  Â  timerInterval = setInterval(() => {
Â  Â  Â  Â  Â  Â  Â  Â  const now = new Date().getTime();
Â  Â  Â  Â  Â  Â  Â  Â  const diff = now - startTime;
Â  Â  Â  Â  Â  Â  Â  Â  seconds = Math.floor(diff / 1000);
Â  Â  Â  Â  Â  Â  Â  Â  const minutes = Math.floor(seconds / 60);
Â  Â  Â  Â  Â  Â  Â  Â  const remainingSeconds = seconds % 60;
Â  Â  Â  Â  Â  Â  Â  Â  timerSpan.textContent = `${String(minutes).padStart(2, '0')}:${String(remainingSeconds).padStart(2, '0')}`;
Â  Â  Â  Â  Â  Â  }, 1000);
Â  Â  Â  Â  }

Â  Â  Â  Â  function stopTimer() {
Â  Â  Â  Â  Â  Â  clearInterval(timerInterval);
Â  Â  Â  Â  Â  Â  isTimerRunning = false;
Â  Â  Â  Â  }

Â  Â  Â  Â  function flipCard() {
Â  Â  Â  Â  Â  Â  if (lockBoard) return;
Â  Â  Â  Â  Â  Â  if (this === firstCard) return;

Â  Â  Â  Â  Â  Â  if (!isTimerRunning) {
Â  Â  Â  Â  Â  Â  Â  Â  startTimer();
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  // Pega o valor da carta usando o ID do DOM para buscar na variÃ¡vel JavaScript segura
Â  Â  Â  Â  Â  Â  const cardId = this.dataset.id;
Â  Â  Â  Â  Â  Â  const cardValue = gameCards[cardId].value;

Â  Â  Â  Â  Â  Â  this.querySelector('.card-front').textContent = cardValue;
Â  Â  Â  Â  Â  Â  this.classList.add('is-flipped');

Â  Â  Â  Â  Â  Â  if (!hasFlippedCard) {
Â  Â  Â  Â  Â  Â  Â  Â  hasFlippedCard = true;
Â  Â  Â  Â  Â  Â  Â  Â  firstCard = this;
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  secondCard = this;
Â  Â  Â  Â  Â  Â  moves++;
Â  Â  Â  Â  Â  Â  movesSpan.textContent = moves;

Â  Â  Â  Â  Â  Â  checkForMatch();
Â  Â  Â  Â  }

Â  Â  Â  Â  function checkForMatch() {
Â  Â  Â  Â  Â  Â  // Compara os valores das cartas usando a variÃ¡vel JavaScript, nÃ£o o DOM
Â  Â  Â  Â  Â  Â  const isMatch = gameCards[firstCard.dataset.id].value === gameCards[secondCard.dataset.id].value;
Â  Â  Â  Â  Â  Â  isMatch ? disableCards() : unflipCards();
Â  Â  Â  Â  }

Â  Â  Â  Â  function disableCards() {
Â  Â  Â  Â  Â  Â  firstCard.removeEventListener('click', flipCard);
Â  Â  Â  Â  Â  Â  secondCard.removeEventListener('click', flipCard);
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  matchedPairs++;
Â  Â  Â  Â  Â  Â  matchedPairsSpan.textContent = matchedPairs;

Â  Â  Â  Â  Â  Â  resetBoard();

Â  Â  Â  Â  Â  Â  if (matchedPairs === cardValues.length) {
Â  Â  Â  Â  Â  Â  Â  Â  stopTimer();
Â  Â  Â  Â  Â  Â  Â  Â  showWinnerModal();
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  function unflipCards() {
Â  Â  Â  Â  Â  Â  lockBoard = true;
Â  Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  Â  firstCard.classList.remove('is-flipped');
Â  Â  Â  Â  Â  Â  Â  Â  secondCard.classList.remove('is-flipped');
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  // Limpa o conteÃºdo da face da frente ao desvirar
Â  Â  Â  Â  Â  Â  Â  Â  firstCard.querySelector('.card-front').textContent = '';
Â  Â  Â  Â  Â  Â  Â  Â  secondCard.querySelector('.card-front').textContent = '';
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  resetBoard();
Â  Â  Â  Â  Â  Â  }, 1000);
Â  Â  Â  Â  }

Â  Â  Â  Â  function resetBoard() {
Â  Â  Â  Â  Â  Â  [hasFlippedCard, lockBoard] = [false, false];
Â  Â  Â  Â  Â  Â  [firstCard, secondCard] = [null, null];
Â  Â  Â  Â  }

Â  Â  Â  Â  function showWinnerModal() {
Â  Â  Â  Â  Â  Â  finalMovesSpan.textContent = moves;
Â  Â  Â  Â  Â  Â  finalTimeSpan.textContent = timerSpan.textContent;
Â  Â  Â  Â  Â  Â  finalDateSpan.textContent = new Date().toLocaleString();
Â  Â  Â  Â  Â  Â  playerNicknameSpan.textContent = playerName;
Â  Â  Â  Â  Â  Â  winnerModal.style.display = 'flex';
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  function restartGame() {
Â  Â  Â  Â  Â  Â  restartCount++;
Â  Â  Â  Â  Â  Â  stopTimer();
Â  Â  Â  Â  Â  Â  moves = 0;
Â  Â  Â  Â  Â  Â  matchedPairs = 0;
Â  Â  Â  Â  Â  Â  seconds = 0;
Â  Â  Â  Â  Â  Â  movesSpan.textContent = 0;
Â  Â  Â  Â  Â  Â  matchedPairsSpan.textContent = "0/12";
Â  Â  Â  Â  Â  Â  timerSpan.textContent = "00:00";
Â  Â  Â  Â  Â  Â  createBoard();
Â  Â  Â  Â  }

Â  Â  Â  Â  // --- InteraÃ§Ã£o com o Banco de Dados (Firebase) ---
Â  Â  Â  Â  async function saveScore() {
Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  await addDoc(collection(db, "jogadores"), {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  nome: playerName,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  pontuacao: moves,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  tempo: seconds,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  data: new Date(),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  reinicios: restartCount
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  winnerModal.style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  gameContent.style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  rankingPage.style.display = 'flex';
Â  Â  Â  Â  Â  Â  Â  Â  loadScores();
Â  Â  Â  Â  Â  Â  } catch (e) {
Â  Â  Â  Â  Â  Â  Â  Â  console.error("Erro ao salvar a pontuaÃ§Ã£o: ", e);
Â  Â  Â  Â  Â  Â  Â  Â  alert("Erro ao salvar a pontuaÃ§Ã£o. Verifique a configuraÃ§Ã£o do seu Firebase e as regras de seguranÃ§a.");
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  async function loadScores() {
Â  Â  Â  Â  Â  Â  const pontuacoesRef = collection(db, "jogadores");
Â  Â  Â  Â  Â  Â  const q = query(pontuacoesRef, orderBy("tempo"));
Â  Â  Â  Â  Â  Â  const querySnapshot = await getDocs(q);
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  rankList.innerHTML = '';
Â  Â  Â  Â  Â  Â  const scores = [];
Â  Â  Â  Â  Â  Â  querySnapshot.forEach((doc) => {
Â  Â  Â  Â  Â  Â  Â  Â  const data = doc.data();
Â  Â  Â  Â  Â  Â  Â  Â  scores.push(data);
Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  // Ordena os dados e preenche o pÃ³dio
Â  Â  Â  Â  Â  Â  scores.sort((a, b) => a.tempo - b.tempo);
Â  Â  Â  Â  Â  Â  if (scores.length >= 1) {
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('first-info').textContent = `${scores[0].nome} (${scores[0].tempo}s)`;
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('first-info').textContent = "ðŸ¥‡";
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  if (scores.length >= 2) {
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('second-info').textContent = `${scores[1].nome} (${scores[1].tempo}s)`;
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('second-info').textContent = "ðŸ¥ˆ";
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  if (scores.length >= 3) {
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('third-info').textContent = `${scores[2].nome} (${scores[2].tempo}s)`;
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('third-info').textContent = "ðŸ¥‰";
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  // Preenche a lista completa
Â  Â  Â  Â  Â  Â  scores.forEach(data => {
Â  Â  Â  Â  Â  Â  Â  Â  const li = document.createElement('li');
Â  Â  Â  Â  Â  Â  Â  Â  const minutes = Math.floor(data.tempo / 60);
Â  Â  Â  Â  Â  Â  Â  Â  const remainingSeconds = data.tempo % 60;
Â  Â  Â  Â  Â  Â  Â  Â  const formattedTime = `${String(minutes).padStart(2, '0')}:${String(remainingSeconds).padStart(2, '0')}`;
Â  Â  Â  Â  Â  Â  Â  Â  li.textContent = `${data.nome} - ${formattedTime} (${data.pontuacao} movimentos)`;
Â  Â  Â  Â  Â  Â  Â  Â  rankList.appendChild(li);
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }

Â  Â  Â  Â  // --- FunÃ§Ãµes de Admin ---
Â  Â  Â  Â  async function showAllPlayers() {
Â  Â  Â  Â  Â  Â  const playersRef = collection(db, "jogadores");
Â  Â  Â  Â  Â  Â  const querySnapshot = await getDocs(playersRef);
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  adminDataDisplay.innerHTML = `<h3>Todos os Registros</h3><ul id="players-list"></ul>`;
            const playersList = document.getElementById('players-list');
Â  Â  Â  Â  Â  Â  querySnapshot.forEach((doc) => {
Â  Â  Â  Â  Â  Â  Â  Â  const data = doc.data();
Â  Â  Â  Â  Â  Â  Â  Â  const li = document.createElement('li');
Â  Â  Â  Â  Â  Â  Â  Â  li.innerHTML = `
                    <span>Nick: ${data.nome}, Tempo: ${data.tempo}s, Reinicios: ${data.reinicios}, Data: ${data.data.toDate().toLocaleString()}</span>
                    <button class="remove-button" data-id="${doc.id}">Remover</button>
                `;
Â  Â  Â  Â  Â  Â  Â  Â  playersList.appendChild(li);
Â  Â  Â  Â  Â  Â  });

            document.querySelectorAll('.remove-button').forEach(button => {
                button.addEventListener('click', (event) => {
                    const docId = event.target.dataset.id;
                    deletePlayer(docId);
                });
            });
Â  Â  Â  Â  }

        async function deletePlayer(docId) {
            if (confirm("Tem certeza que deseja remover este jogador?")) {
                try {
                    await deleteDoc(doc(db, "jogadores", docId));
                    alert("Jogador removido com sucesso!");
                    showAllPlayers(); // Recarrega a lista
                } catch (e) {
                    console.error("Erro ao remover jogador: ", e);
                    alert("Ocorreu um erro ao remover o jogador. Tente novamente.");
                }
            }
        }

Â  Â  Â  Â  async function rebootDatabase() {
Â  Â  Â  Â  Â  Â  if (!confirm("VocÃª tem certeza que deseja APAGAR TODO o histÃ³rico de jogadores? Esta aÃ§Ã£o Ã© irreversÃ­vel!")) {
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  const playersRef = collection(db, "jogadores");
Â  Â  Â  Â  Â  Â  const querySnapshot = await getDocs(playersRef);
Â  Â  Â  Â  Â  Â  await runTransaction(db, async (transaction) => {
Â  Â  Â  Â  Â  Â  Â  Â  querySnapshot.forEach((doc) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  transaction.delete(doc.ref);
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  alert("HistÃ³rico de jogadores apagado com sucesso!");
Â  Â  Â  Â  Â  Â  adminDataDisplay.innerHTML = "";
Â  Â  Â  Â  }

Â  Â  Â  Â  // --- Event Listeners ---
Â  Â  Â  Â  nicknameInput.addEventListener('input', () => {
Â  Â  Â  Â  Â  Â  startButton.disabled = nicknameInput.value.trim() === '';
Â  Â  Â  Â  });

Â  Â  Â  Â  startButton.addEventListener('click', () => {
Â  Â  Â  Â  Â  Â  playerName = nicknameInput.value.trim();
Â  Â  Â  Â  Â  Â  if (playerName.toLowerCase() === ADMIN_NICKNAME) {
Â  Â  Â  Â  Â  Â  Â  Â  startPage.style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  gameContent.style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  rankingPage.style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  adminPage.style.display = 'block';
Â  Â  Â  Â  Â  Â  Â  Â  showAllPlayers();
Â  Â  Â  Â  Â  Â  } else if (playerName) {
Â  Â  Â  Â  Â  Â  Â  Â  startPage.style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  gameContent.style.display = 'flex';
Â  Â  Â  Â  Â  Â  Â  Â  restartGame();
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  });

Â  Â  Â  Â  saveScoreButton.addEventListener('click', saveScore);
Â  Â  Â  Â  restartButton.addEventListener('click', () => {
Â  Â  Â  Â  Â  Â  restartGame();
Â  Â  Â  Â  });
Â  Â  Â  Â  showAllPlayersButton.addEventListener('click', showAllPlayers);
Â  Â  Â  Â  rebootButton.addEventListener('click', rebootDatabase);

Â  Â  </script>
</body>
</html>
